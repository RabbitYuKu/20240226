<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Self Learning Platform</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <!--
      Need a visual blank slate?
      Remove all code in `styles.css`!
    -->
    <link rel="stylesheet" href="todoCSS.css" />
    <script type="module" src="script.js"></script>
  </head>
  <body>
    <div class="menu">
      <input type="image" class="menu-button" onclick="toggleDropdown()" src="https://www.clipartmax.com/png/full/158-1587307_burger-menu-icon-white.png"/>
      <h1 class="menu">To-do List</h1>
      <div class="dropdown" id="myDropdown">
          <a href="/addTodo.html">Add Task</a>
          <a href="/todoList.html">To-do List</a>
          <a href="/timer.html">Timer</a>
      </div>      
      
  </div>
  <div class="overlay" id="myOverlay" onclick="closeDropdown()"></div>
  <div class="separator"></div> <!--分隔線-->

  <div class="tile">
    <div class="tile-item" id="tile" onclick="toggleSubmenu(this)">tile1</div>
    <div class="subtile">
        <div class="subtile-item" id="subtile">
          <p>選項 1</p>
        </div>
        <input type="button" class="subtile-button" value="Start Working"><p></p>
    </div>
</div>

  <input type="image" class="addButton" id="addButton" src="/add.png">
  <script>
    const userID = localStorage.getItem("userID")
    const task = fetch('https://script.google.com/macros/s/AKfycbxtlx7G2v3Z9NfFKPD5nylJBkFMrL4q1vuxXqZnikjFizS9_46ePjA52Yq14MZvnqfq/exec'
    +`?action=${"todoList"}&userID=${userID}`)

    const button = document.getElementById("addButton") //add button listener
    button.addEventListener("click",function(){
      window.location.href= "/addTodo.html"
    })

    function readTask() {

    }

    function toggleDropdown() { //menu button
        const dropdown = document.getElementById("myDropdown");
        const overlay = document.getElementById("myOverlay");
        dropdown.classList.toggle("show");
        overlay.classList.toggle("show");
    }

    function closeDropdown() {
        const dropdown = document.getElementById("myDropdown");
        const overlay = document.getElementById("myOverlay");
        dropdown.classList.remove("show");
        overlay.classList.remove("show");
    }

    // tile menu
    window.onclick = function(event) {
        if (!event.target.matches('.menu-button')) {
            closeDropdown();
        }
    }

    function toggleSubmenu(menuItem) {
        const submenu = menuItem.nextElementSibling;
        submenu.classList.toggle('open');
        }
  </script>
    </body>